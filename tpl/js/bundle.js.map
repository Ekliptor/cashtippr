{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.ts","webpack:///./src/BlurryImage.ts","webpack:///./src/CashTippr.ts","webpack:///./src/MoneyButton.ts","webpack:///./src/QrCode.ts","webpack:///./src/Shout.ts","webpack:///./src/WebHelpers.ts","webpack:///./src/admin/Tooltips.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.ts\");\n","import {CashTippr} from \"./src/CashTippr\";\n\nlet cashtippr = new CashTippr(window, jQuery);\n(window as any).cashtippr = cashtippr;","import {CashTippr} from \"./CashTippr\";\n\n/**\n * The class for displaying blurry images.\n * We bundle it together with all our JavaScript instead of with the addon because\n * a 2nd JS WebPack project would create unnecessary dependency + bootstrap overhead.\n */\nexport class BlurryImage {\n    protected cashtippr: CashTippr;\n\n    constructor(cashtippr: CashTippr) {\n        this.cashtippr = cashtippr;\n        // TODO implement events this class (and other addons) can listen to so that we don't have to call functions in here directly\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n}","import {Tooltips} from \"./admin/Tooltips\";\nimport {MoneyButton} from \"./MoneyButton\";\nimport {WebHelpers, WebHelpersConfig} from \"./WebHelpers\";\nimport {BlurryImage} from \"./BlurryImage\";\nimport {Shout} from \"./Shout\";\nimport {QrCode} from \"./QrCode\";\n\nexport interface CashTipprConfig extends WebHelpersConfig {\n    // same keys as in php\n    show_search_engines: boolean;\n}\n\nexport interface AbstractPayment {\n    domID: string; // the full ID of the wrapper div for the payment control\n}\n\nexport interface CashtipprApiRes {\n    error: boolean;\n    errorMsg: string;\n    data: any[];\n}\n\nexport class CashTippr {\n    protected static readonly CONSENT_COOKIE_NAME = \"ct-ck\";\n    protected static readonly CONFIRM_COOKIES_MSG = \"#ct-cookieMsg\";\n    protected static readonly CONFIRM_COOKIES_BTN = \"#ct-confirmCookies\";\n    // TODO separate entryPoints + classes for admin + public code? but tooltips and other admin stuff can be used publicly too (and is quite small)\n\n    public readonly window: Window;\n    public readonly $: JQueryStatic;\n    public readonly mb: MoneyButton;\n    public readonly qr: QrCode;\n    public readonly blurryImage: BlurryImage;\n    public readonly shout: Shout;\n\n    protected config: CashTipprConfig;\n    protected webHelpers: WebHelpers;\n    protected tooltips = new Tooltips(this);\n\n    constructor(window: Window, $: JQueryStatic) {\n        this.window = window;\n        this.$ = $;\n        this.config = this.window['cashtipprCfg'] || {};\n        this.config.consentCookieName = CashTippr.CONSENT_COOKIE_NAME;\n        this.config.confirmCookiesMsg = CashTippr.CONFIRM_COOKIES_MSG;\n        this.config.confirmCookiesBtn = CashTippr.CONFIRM_COOKIES_BTN;\n\n        this.webHelpers = new WebHelpers(this.window, this.$, this.config);\n        this.mb = new MoneyButton(this, this.webHelpers,true);\n        this.qr = new QrCode(this, this.webHelpers);\n        this.blurryImage = new BlurryImage(this);\n        this.shout = new Shout(this);\n        this.$(this.window.document).ready(($) => {\n            this.tooltips.initToolTips();\n            this.webHelpers.checkCookieConsent();\n        });\n    }\n\n    public getConfig() {\n        return this.config;\n    }\n\n    public getWebHelpers() {\n        return this.webHelpers;\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n}","import {AbstractPayment, CashTippr, CashtipprApiRes} from \"./CashTippr\";\nimport {WebHelpers} from \"./WebHelpers\";\n\nexport interface MoneyButtonPayment extends AbstractPayment {\n    amount: string;\n    buttonData: string; // JSON string \"{}\" or base64 data in our app\n    buttonDataObj: any; // unserialized JS object from buttonData\n    buttonId: string; // unique ID, tx ID in our case\n    clientId: string;\n    createdAt: string; // ISO date\n    currency: string;\n    deletedAt: string; // ISO date\n    id: string;\n    normalizedTxid: string;\n    satoshis: string;\n    status: string;\n    statusDescription: string;\n    transactionId: string;\n    txid: string;\n    updatedAt: string; // ISO date\n    userId: string;\n}\n\nexport class MoneyButton {\n    protected static readonly UPDATE_AMOUNT_DELAY_MS = 300; // delay it to prevent flickering if the user updates multiplet imes\n\n    protected cashtippr: CashTippr;\n    protected webHelpers: WebHelpers;\n    protected globalCallbacks: boolean; // expose callback functions to window object because MoneyButton currently doesn't support functions on objects\n    protected scheduleUpdateAmountTimerID = 0;\n\n    constructor(cashtippr: CashTippr, webHelpers: WebHelpers, globalCallbacks = false) {\n        this.cashtippr = cashtippr;\n        this.webHelpers = webHelpers;\n        this.globalCallbacks = globalCallbacks;\n        if (this.globalCallbacks === true) {\n            setTimeout(() => { // must be done after constructor or else functions are undefined\n                this.cashtippr.window['onMoneyButtonPayment'] = this.onMoneyButtonPayment;\n                this.cashtippr.window['onMoneyButtonError'] = this.onMoneyButtonError;\n                this.cashtippr.window['onMoneyButtonClientPayment'] = this.sendPaymentReceived;\n            }, 0);\n        }\n\n        this.cashtippr.$(this.cashtippr.window.document).ready(($) => {\n            this.cashtippr.$(\".ct-input-amount\").keyup((event) => {\n                this.scheduleUpdateAmount(event.target);\n            });\n            this.cashtippr.$(\".ct-input-amount\").change((event) => {\n                this.scheduleUpdateAmount(event.target);\n            });\n        });\n    }\n\n    public onMoneyButtonPayment(payment: MoneyButtonPayment) {\n        if (typeof payment.buttonData === \"string\" && payment.buttonData.length !== 0 && payment.buttonData[0] !== \"{\")\n            payment.buttonDataObj = JSON.parse(this.cashtippr.getWebHelpers().fromBase64(payment.buttonData)) || {}; // this.webHelpers is undefined\n        if (payment.domID === undefined)\n            payment.domID = \"ct-btn-wrap-\" + payment.buttonId;\n        //console.log(\"MB payment\", payment)\n        // buttonDataObj.days === 0\n\n        // TODO make an ajax call to WP to check if the payment has actually been received (once they support webhooks)\n        // then depending on if the content is hidden with CSS: modify style or reload page (server can tell this, or we add a variable)\n        // simply always remove the style\n        if (this.cashtippr.getConfig().show_search_engines === true) {\n            //this.cashtippr.$(\".ct-hidden-text\").css(\"cssText\", \"display: inherit!important;\");\n            // especially with editable + hidden button on same page\n\n            if (!payment.buttonDataObj || payment.buttonDataObj.days !== 0) { // show everything for full passes\n                this.cashtippr.$(\".ct-hidden-text\").fadeIn(\"slow\");\n                this.cashtippr.$(\".ct-more, .ct-button-text, .ct-image-blurry\").fadeOut(\"slow\");\n            }\n            else { // only show the contents hidden in this button\n                this.cashtippr.$(\"#ct-hidden-\" + payment.buttonId).fadeIn(\"slow\");\n                this.cashtippr.$(\"#ct-button-text-\" + payment.buttonId + \", #ct-image-blurry-\" + payment.buttonId).fadeOut(\"slow\");\n                if (payment.buttonDataObj.postHide === true) // auto hide of the full post. there can only be 1 such element\n                    this.cashtippr.$(\".ct-more\").fadeOut(\"slow\");\n            }\n            //this.sendPaymentReceived(payment);\n            this.cashtippr.window['onMoneyButtonClientPayment'].call(this.cashtippr.mb, payment, (res: CashtipprApiRes) => {\n                if (payment.buttonDataObj && payment.buttonDataObj.shout === true)\n                    this.cashtippr.shout.onPayment(payment);\n            });\n            // TODO increment tips received and donation goal progress with JS\n            if (typeof this.cashtippr.window['onCashtipprPayment'] === \"function\")\n                this.cashtippr.window['onCashtipprPayment'].call(this.cashtippr.window, {moneybutton: payment});\n            return;\n        }\n\n        this.cashtippr.window['onMoneyButtonClientPayment'].call(this.cashtippr.mb, payment, (res: CashtipprApiRes) => {\n            if (payment.buttonDataObj && payment.buttonDataObj.shout === true) {\n                this.cashtippr.shout.onPayment(payment);\n                return; // this will already reload the page\n            }\n            // TODO add random query param to bypass caching? look at different WP caching plugins first\n            // some might ignore query strings\n            // better way would be to implement WP hooks to bypass cache for paid users (if provided by cache plugins)\n            // to make it work with full-page caching we have to fetch params such as TXID via ajax either way\n            this.cashtippr.window.location.reload(true);\n        });\n    }\n\n    public onMoneyButtonError(error: any) {\n        this.cashtippr.window.console.error(\"MoneyButton payment error\", error)\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n    protected sendPaymentReceived(payment: MoneyButtonPayment, callback?: (res: CashtipprApiRes) => void) {\n        let params = {\n            txid: payment.buttonId,\n            am: payment.amount\n        }\n        this.webHelpers.getApi(\"/wp-json/cashtippr/v1/mb-client\", params, (data) => {\n            callback && callback(data);\n        });\n    }\n\n    protected scheduleUpdateAmount(target: Element) {\n        if (this.scheduleUpdateAmountTimerID !== 0)\n            clearTimeout(this.scheduleUpdateAmountTimerID);\n        this.scheduleUpdateAmountTimerID = setTimeout(() => {\n            this.updateButtonAmount(target);\n        }, MoneyButton.UPDATE_AMOUNT_DELAY_MS);\n    }\n\n    protected updateButtonAmount(target: Element) {\n        const btnContainer = this.cashtippr.$(target).parent().parent();\n        const btnFrame = btnContainer.find(\"iframe\");\n        if (!btnFrame) {\n            console.error(\"Unable to find MoneyButton iframe at element\", btnContainer);\n            return;\n        }\n        let src = btnFrame.attr(\"src\");\n        if (src.indexOf(\"&amt=\") === -1 || src.indexOf(\"&lbl=\") === -1) {\n            console.error(\"Unable to find MoneyButton amount in iframe src. Please report this, as most likely their API has changed. src=%s\", src);\n            return;\n        }\n        const amountNew = parseFloat(this.cashtippr.$(target).val());\n        if (amountNew === 0.0 || amountNew === Number.NaN)\n            return;\n        // TODO check if the amount really changed? shouldn't be needed\n        src = src.replace(/&amt=[0-9\\.]+&/, \"&amt=\" + amountNew + \"&\")\n            .replace(/&lbl=[0-9\\.]+/, \"&lbl=\" + amountNew);\n        btnFrame.attr(\"src\", src);\n    }\n}","import {AbstractPayment, CashTippr, CashtipprApiRes} from \"./CashTippr\";\nimport {WebHelpers} from \"./WebHelpers\";\n\n\nexport class QrCode {\n    protected cashtippr: CashTippr;\n    protected webHelpers: WebHelpers;\n\n    constructor(cashtippr: CashTippr, webHelpers: WebHelpers) {\n        this.cashtippr = cashtippr;\n        this.webHelpers = webHelpers;\n\n        this.cashtippr.$(this.cashtippr.window.document).ready(($) => {\n            this.cashtippr.$(\".ct-qrcode-btn\").click((event) => {\n                this.showQrDialog(event.target);\n            });\n        });\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n    protected showQrDialog(target: Element) {\n        const paymentButtonlWrapper = this.cashtippr.$(target).parent().parent().parent();\n        const txid = paymentButtonlWrapper.attr(\"id\").replace(/^ct-btn-wrap-/, \"\");\n        const paymentCtrlWrapper = paymentButtonlWrapper.parent();\n        let amount = 0.0;\n        if (paymentCtrlWrapper.find(\"input[name='amount']\").length !== 0)\n            amount = paymentCtrlWrapper.find(\"input[name='amount']\").val(); // custom editable amount by user\n        let params = {\n            txid: txid,\n            am: amount\n        }\n        let dialog = this.webHelpers.translate(this.cashtippr.$(\"#ct-modal-qrcode-dialog-tpl\").html(), {\n            dialog_class: \"dialog-\" + txid\n        });\n        this.cashtippr.$(\"body\").append(dialog); // its position is fixed relative to the viewport\n\n        this.webHelpers.getApi(\"/wp-json/cashtippr/v1/qrcode\", params, (data) => {\n            this.cashtippr.$(\".ct-loading\").remove();\n            if (data.error === true) {\n                this.cashtippr.window.console.error(\"Error starting QR code tip\");\n                this.cashtippr.window.console.error(data.errorMsg);\n                return;\n            }\n            this.cashtippr.$(\".ct-qr-code\").fadeIn(\"slow\").attr(\"src\", data.data[0]);\n        });\n\n        this.cashtippr.$(\".ct-close-dialog\").click((event) => {\n            this.cashtippr.$(\".dialog-\" + txid).remove();\n        });\n        this.cashtippr.$(\".ct-copy-field\").click((event) => {\n            const inputEl = this.cashtippr.$(event.target).parent().find(\"input[type='text']\");\n            //let text = inputEl.val();\n            inputEl.select();\n            try {\n                this.cashtippr.window.document.execCommand(\"copy\");\n            }\n            catch (err) { // try-catch shouldn't be needed except for some really old browsers\n            }\n            inputEl.select(); // ensure it's selected again for iOS devices to copy it manually. not working, remove?\n        });\n        this.cashtippr.$(\"#ct-qrcode-form input[type='text']\").click((event) => {\n            this.cashtippr.$(event.target).select();\n        });\n        if (this.webHelpers.isAppleIOS() === true) // copy to clipboard button doesn't work there\n            this.cashtippr.$(\"#ct-qrcode-form .ct-copy-field\").addClass(\"hidden\");\n    }\n}","import {AbstractPayment, CashTippr} from \"./CashTippr\";\n\n/**\n * The class for displaying the shout addon.\n * We bundle it together with all our JavaScript instead of with the addon because\n * a 2nd JS WebPack project would create unnecessary dependency + bootstrap overhead.\n */\nexport class Shout {\n    protected cashtippr: CashTippr;\n    protected scheduleUpdateTimerID = 0;\n\n    constructor(cashtippr: CashTippr) {\n        this.cashtippr = cashtippr;\n        // TODO implement events this class (and other addons) can listen to so that we don't have to call functions in here directly\n        this.cashtippr.$(this.cashtippr.window.document).ready(($) => {\n            if (this.cashtippr.$(\".ct-message\").length !== 0) {\n                this.updateRemainingChars();\n                this.addEventListeners();\n            }\n        });\n\n        // admin area\n        this.cashtippr.$(this.cashtippr.window.document).ready(($) => {\n            this.addConfirmDeleteMessages();\n        })\n    }\n\n    public onPayment(payment: AbstractPayment) {\n        this.cashtippr.$(\"#\" + payment.domID).parent().parent().submit();\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n    protected updateRemainingChars() {\n        const forms = this.cashtippr.$(\".ct-message\").parent().parent();\n        this.cashtippr.$.each(forms, (index, value) => {\n            const formEl = this.cashtippr.$(value);\n            let text = formEl.find(\".ct-message\").val();\n            let maxChars = parseInt(formEl.find(\".ct-max-chars\").val());\n            const remaining = maxChars - text.length;\n            formEl.find(\".ct-chars-left\").text(remaining);\n            if (remaining < 0) {\n                formEl.find(\".ct-chars-left\").css(\"color\", \"red\");\n                formEl.find(\".ct-shout\").prop(\"disabled\", true);\n                formEl.find(\".ct-button\").fadeOut(\"slow\");\n            }\n            else {\n                formEl.find(\".ct-chars-left\").css(\"color\", \"\");\n                if (text.length === 0) { // don't let the user submit empty messages\n                    formEl.find(\".ct-shout\").prop(\"disabled\", true);\n                    formEl.find(\".ct-button\").fadeOut(\"slow\");\n                }\n                else {\n                    formEl.find(\".ct-shout\").prop(\"disabled\", false);\n                    formEl.find(\".ct-button\").fadeIn(\"slow\");\n                }\n            }\n        });\n    }\n\n    protected addEventListeners() {\n        this.cashtippr.$(\".ct-message\").keyup((event) => {\n            this.scheduleCharsUpdate();\n        });\n        this.cashtippr.$(\".ct-message\").change((event) => {\n            this.scheduleCharsUpdate();\n        });\n    }\n\n    protected addConfirmDeleteMessages() {\n        this.cashtippr.$(\".ct-delete-shout-link\").on(\"click\", (event) => {\n            const question = this.cashtippr.$(\"#ct-delete-shout-confirm\").text();\n            if (this.cashtippr.window.confirm(question) === true)\n                return;\n            event.preventDefault();\n            return false; // should't be needed anymore in 2018\n        });\n    }\n\n    protected scheduleCharsUpdate() {\n        if (this.scheduleUpdateTimerID !== 0)\n            clearTimeout(this.scheduleUpdateTimerID);\n        this.scheduleUpdateTimerID = setTimeout(() => {\n            this.updateRemainingChars();\n        }, 50);\n    }\n}","\nexport interface WebHelpersConfig {\n    cookieLifeDays: number;\n    cookiePath: string;\n    siteUrl: string;\n\n    // DOM ids of elements of cookie consent message\n    consentCookieName: string;\n    confirmCookiesMsg: string;\n    confirmCookiesBtn: string;\n}\n\nexport class WebHelpers {\n    public readonly window: Window;\n    public readonly $: JQueryStatic;\n\n    protected config: WebHelpersConfig;\n\n    constructor(window: Window, $: JQueryStatic, config: WebHelpersConfig) {\n        this.window = window;\n        this.$ = $;\n        this.config = config;\n    }\n\n    public getBrowserLang() {\n        return this.window.navigator.language.substr(0, 2).toLowerCase();\n    }\n\n    public getCookie(c_name: string) {\n        let i, x, y;\n        let ARRcookies = this.window.document.cookie.split(\";\");\n        for (i = 0; i < ARRcookies.length; i++)\n        {\n            x = ARRcookies[i].substr(0, ARRcookies[i].indexOf(\"=\"));\n            y = ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\") + 1);\n            x = x.replace(/^\\s+|\\s+$/g,\"\");\n            if (x == c_name)\n                return decodeURI(y);\n        }\n        return null;\n    }\n\n    public setCookie(name: string, value: any, expireDays: number) {\n        let date = new Date();\n        date = new Date(date.getTime()+1000*60*60*24* (expireDays ? expireDays : this.config.cookieLifeDays));\n        //document.cookie = name + \"=\" + value + \"; expires=\" + date.toGMTString() + \"; path=\" + pageData.cookiePath + \"; domain=.\" + location.host;\n        this.window.document.cookie = name + \"=\" + value + \"; expires=\" + date.toUTCString() + \"; path=\" + this.config.cookiePath;\n    }\n\n    public removeCookie(name: string) {\n        //document.cookie = name + \"=; expires=Thu, 02 Jan 1970 00:00:00 UTC; path=\" + pageData.cookiePath + \"; domain=.\" + location.host;\n        this.window.document.cookie = name + \"=; expires=Thu, 02 Jan 1970 00:00:00 UTC; path=\" + this.config.cookiePath;\n    }\n\n    public checkCookieConsent() {\n        this.$(this.config.confirmCookiesBtn).click(() => {\n            this.confirmCookies();\n        });\n        if (this.getCookie(this.config.consentCookieName) !== null)\n            this.$(this.config.confirmCookiesMsg).remove(); // we recently showed the cookie confirm message. some pages might still be in browser cache\n    }\n\n    public fromBase64(data: string) {\n        if (typeof this.window.atob !== \"function\") {\n            this.window.console.error(\"Base64 decoding is not supported in your browser\");\n            return \"\";\n        }\n        return this.window.atob(data);\n    }\n\n    public toBase64(data: string) {\n        if (typeof this.window.btoa !== \"function\") {\n            this.window.console.error(\"Base64 encoding is not supported in your browser\");\n            return \"\";\n        }\n        return this.window.btoa(data);\n    }\n\n    /**\n     * Populate a html template\n     * @param text {String}: The html template (or just normal text with variables)\n     * @param variables {Object}: the key-value pairs with variables names and their content to be set in text\n     * @param safeHtml {boolean, default false}: don't escape html characters if set to true\n     * @returns {String} the translated html\n     */\n    public translate(text: string, variables: any, safeHtml: boolean = false) {\n        if (typeof text !== \"string\") {\n            try {\n                // @ts-ignore\n                text = text.toString();\n            }\n            catch (e) {\n                this.log(\"Text to translate is not a string\");\n                return text;\n            }\n        }\n        let start = 0, end = 0;\n        while ((start = text.indexOf(\"{\", start)) !== -1)\n        {\n            if (start > 0 && text.charAt(start-1) === \"\\\\\") { // escaped javascript code beginning\n                start++;\n                continue;\n            }\n            end = text.indexOf(\"}\", start);\n            if (end === -1) {\n                this.log(\"Can not find end position while translating HTML\");\n                break;\n            }\n            let placeHolder = text.substring(start+1, end);\n            let translation = null;\n            if (placeHolder.substring(0, 3) === \"tr:\") {\n                let key = placeHolder.substring(3);\n                //translation = this.tr(key.toUpperCase());\n                translation = this.tr(key);\n            }\n            else if (typeof variables === \"object\") {\n                let textPiece = variables[placeHolder];\n                if (typeof textPiece !== \"undefined\") {\n                    if (typeof safeHtml === \"boolean\" && safeHtml)\n                        translation = textPiece;\n                    else\n                        translation = this.escapeOutput(textPiece);\n                }\n            }\n            if (translation !== null) {\n                let reg = new RegExp(\"\\\\{\" + placeHolder + \"\\\\}\", \"g\");\n                text = text.replace(reg, translation);\n            }\n            else if (placeHolder.match(\"[A-Za-z0-9_]+\") !== null) {\n                this.log(\"No translation found for place holder: \" + placeHolder);\n                let reg = new RegExp(\"\\\\{\" + placeHolder + \"\\\\}\", \"g\");\n                text = text.replace(reg, \"MISSING: \" + this.escapeOutput(placeHolder));\n            }\n            else\n                start += placeHolder.length;\n        }\n        text = text.replace(/\\\\\\\\\\\\{/, \"{\");\n        return text;\n    }\n\n    public escapeOutput(text: string, convertNewlines: boolean = true) {\n        if (typeof text !== \"string\")\n            return text;\n        text = text.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n        if (typeof convertNewlines === \"undefined\" || convertNewlines === true)\n            text = text.replace(/\\r?\\n/g, \"<br>\");\n        return text;\n    }\n\n    public escapeRegex(str: string) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    }\n\n    public tr(key: string) {\n        //if (typeof language[key] === \"undefined\")\n        //return \"MISSING: \" + key;\n        //return language[key];\n        //return i18next.t(key) // will just print the key if it doesn't exist and debug is disabled\n        return key; // we don't have client-side translation support on this WP plugin yet. just return the key // TODO do we need this if we make our plugin use more ajax?\n    }\n\n    public log(args) {\n        if (//typeof pageData.debugLog !== \"boolean\" || pageData.debugLog === false || // TODO add in CashTipprConfig\n            typeof this.window.console !== \"object\" || typeof this.window.console.log !== \"function\")\n            return;\n        this.window.console.log(arguments);\n    }\n\n    public isAppleIOS() {\n        // https://stackoverflow.com/questions/9038625/detect-if-device-is-ios\n        return /iPad|iPhone|iPod/.test(this.window.navigator.userAgent) && !(this.window as any).MSStream;\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n    protected confirmCookies() {\n        /* // no data stored in session\n        this.getApi('/json/cookies', function(data) {\n            if (data.error)\n                //Hlp.showMsg(i18next.t('errorSending'), 'danger');\n                console.error(\"Error sending data\");\n            else {\n            }\n        })\n        */\n        this.$(this.config.confirmCookiesMsg).remove();\n        this.setCookie(this.config.consentCookieName, \"1\", this.config.cookieLifeDays);\n    }\n\n    public getApi(path: string, data?: any, callback?: (data: any, textStatus: string, jqXHR: JQueryXHR) => any, dataType?: string) {\n        if (typeof data === \"function\") {\n            callback = data;\n            data = null;\n        }\n        else if (data === undefined)\n            data = null;\n        let url = path;\n        if (url.toLowerCase().indexOf(\"http\") !== 0)\n            url = this.config.siteUrl + url;\n        return this.$.get(url, data, (data, textStatus, jqXHR) => {\n            callback(data, textStatus, jqXHR);\n        }, dataType);\n    }\n}","import {CashTippr} from \"../CashTippr\";\n\nexport class Tooltips {\n    protected cashtippr: CashTippr;\n\n    constructor(cashtippr: CashTippr) {\n        this.cashtippr = cashtippr;\n    }\n\n    /**\n     * Initializes status bar hover entries.\n     */\n    public initToolTips() {\n        const window = this.cashtippr.window;\n        const jQuery = this.cashtippr.$;\n        const that = this;\n        const tsfL10n = { // TODO localization\n            states: {\n                debug: false\n            }\n        }\n\n        let touchBuffer = 0,\n            inTouchBuffer = false;\n\n        const setTouchBuffer = function() {\n            inTouchBuffer = true;\n            clearTimeout( touchBuffer );\n            touchBuffer = setTimeout( function() {\n                inTouchBuffer = false;\n            }, 250 );\n        }\n\n        const setEvents = function( target, unset = false ) {\n\n            unset = unset || false;\n\n            let touchEvents = 'pointerdown.tsfTT touchstart.tsfTT click.tsfTT',\n                $target = jQuery( target );\n\n            if ( unset ) {\n                $target.off( 'mousemove mouseleave mouseout ct-tooltip-update' );\n                jQuery( document.body ).off( touchEvents );\n            } else {\n                $target.on( {\n                    'mousemove'  : mouseMove,\n                    'mouseleave' : mouseLeave,\n                    'mouseout'   : mouseLeave,\n                } );\n                jQuery( document.body ).off( touchEvents ).on( touchEvents, touchRemove );\n            }\n\n            $target.on( 'ct-tooltip-update', updateDesc );\n        }\n        const unsetEvents = function( target ) {\n            setEvents( target, true );\n        }\n        const updateDesc = function( event ) {\n            if ( event.target.classList.contains( 'ct-tooltip-item' ) ) {\n                let tooltipText = event.target.querySelector( '.ct-tooltip-text' );\n                if ( tooltipText instanceof Element )\n                    tooltipText.innerHTML = event.target.dataset.desc;\n            }\n        }\n        const mouseEnter = function( event ) {\n            let $hoverItem = jQuery( event.target ),\n                desc = event.target.dataset.desc;\n\n            if ( desc && 0 === $hoverItem.find( 'div' ).length ) {\n                //= Remove any titles attached.\n                event.target.title = \"\";\n\n                let $tooltip = jQuery(\n                    '<div class=\"ct-tooltip\"><span class=\"ct-tooltip-text-wrap\"><span class=\"ct-tooltip-text\">'\n                    + desc +\n                    '</span></span><div class=\"ct-tooltip-arrow\"></div></div>'\n                );\n                $hoverItem.append( $tooltip );\n\n                let $boundary = $hoverItem.closest( '.ct-tooltip-boundary' );\n                $boundary = $boundary.length && $boundary || jQuery( document.body );\n\n                //= 9 = arrow (8) + shadow (1)\n                let tooltipHeight = $hoverItem.outerHeight() + 9,\n                    tooltipTop = $tooltip.offset().top - tooltipHeight,\n                    boundaryTop = $boundary.offset().top - ( $boundary.prop( 'scrolltop' ) || 0 );\n\n                if ( boundaryTop > tooltipTop ) {\n                    $tooltip.addClass( 'ct-tooltip-down' );\n                    $tooltip.css( 'top', tooltipHeight + 'px' );\n                } else {\n                    $tooltip.css( 'bottom', tooltipHeight + 'px' );\n                }\n\n                let $hoverItemWrap = $hoverItem.closest( '.ct-tooltip-wrap' ),\n                    $textWrap = $tooltip.find( '.ct-tooltip-text-wrap' ),\n                    $innerText = $textWrap.find( '.ct-tooltip-text' ),\n                    hoverItemWrapWidth = $hoverItemWrap.width(),\n                    textWrapWidth = $textWrap.outerWidth( true ),\n                    textWidth = $innerText.outerWidth( true ),\n                    textLeft = $textWrap.offset().left,\n                    textRight = textLeft + textWidth,\n                    boundaryLeft = $boundary.offset().left - ( $boundary.prop( 'scrollLeft' ) || 0 ),\n                    boundaryRight = boundaryLeft + $boundary.outerWidth();\n\n                //= RTL and LTR are normalized to abide to left.\n                let direction = 'left';\n\n                if ( textLeft < boundaryLeft ) {\n                    //= Overflown over left boundary (likely window)\n                    //= Add indent relative to boundary. 24px width of arrow / 2 = 12 middle\n                    let horIndent = boundaryLeft - textLeft + 12,\n                        basis = parseInt( $textWrap.css( 'flex-basis' ), 10 );\n\n                    /**\n                     * If the overflow is greater than the tooltip flex basis,\n                     * the tooltip was grown. Shrink it back to basis and use that.\n                     */\n                    if ( horIndent < -basis )\n                        horIndent = -basis;\n\n                    $tooltip.css( direction, horIndent + 'px' );\n                    $tooltip.data( 'overflow', horIndent );\n                    $tooltip.data( 'overflowDir', direction );\n                } else if ( textRight > boundaryRight ) {\n                    //= Overflown over right boundary (likely window)\n                    //= Add indent relative to boundary. Add 12px for visual appeal.\n                    let horIndent = boundaryRight - textRight - hoverItemWrapWidth - 12,\n                        basis = parseInt( $textWrap.css( 'flex-basis' ), 10 );\n\n                    /**\n                     * If the overflow is greater than the tooltip flex basis,\n                     * the tooltip was grown. Shrink it back to basis and use that.\n                     */\n                    if ( horIndent < -basis )\n                        horIndent = -basis;\n\n                    $tooltip.css( direction, horIndent + 'px' );\n                    $tooltip.data( 'overflow', horIndent );\n                    $tooltip.data( 'overflowDir', direction );\n                } else if ( hoverItemWrapWidth < 42 ) {\n                    //= Small tooltip container. Add indent to make it visually appealing.\n                    let indent = -15;\n                    $tooltip.css( direction, indent + 'px' );\n                    $tooltip.data( 'overflow', indent );\n                    $tooltip.data( 'overflowDir', direction );\n                } else if ( hoverItemWrapWidth > textWrapWidth ) {\n                    //= Wrap is bigger than tooltip. Adjust accordingly.\n                    let pagex = event.originalEvent && event.originalEvent.pageX || event.pageX, // iOS touch support,\n                        hoverItemLeft = $hoverItemWrap.offset().left,\n                        center = pagex - hoverItemLeft,\n                        left = center - textWrapWidth / 2,\n                        right = left + textWrapWidth;\n\n                    if ( left < 0 ) {\n                        //= Don't overflow left.\n                        left = 0;\n                    } else if ( right > hoverItemWrapWidth ) {\n                        //= Don't overflow right.\n                        //* Use textWidth instead of textWrapWidth as it gets squashed in flex.\n                        left = hoverItemWrapWidth - textWidth;\n                    }\n\n                    $tooltip.css( direction, left + 'px' );\n                    $tooltip.data( 'adjust', left );\n                    $tooltip.data( 'adjustDir', direction );\n                }\n            }\n        }\n        const mouseMove = function( event ) {\n            let $target = jQuery( event.target ),\n                $tooltip = $target.find( '.ct-tooltip' ),\n                $arrow = $tooltip.find( '.ct-tooltip-arrow' ),\n                overflow = $tooltip.data( 'overflow' ),\n                overflowDir = $tooltip.data( 'overflowDir' );\n\n            overflow = parseInt( overflow, 10 );\n            overflow = isNaN( overflow ) ? 0 : - Math.round( overflow );\n\n            if ( overflow ) {\n                //= Static arrow based on static overflow.\n                $arrow.css( overflowDir, overflow + \"px\" );\n            } else {\n                let pagex = event.originalEvent && event.originalEvent.pageX || event.pageX, // iOS touch support\n                    arrowBoundary = 7,\n                    arrowWidth = 16,\n                    $hoverItemWrap = $target.closest( '.ct-tooltip-wrap' ),\n                    mousex = pagex - $hoverItemWrap.offset().left - arrowWidth / 2,\n                    originalMousex = mousex,\n                    $textWrap = $tooltip.find( '.ct-tooltip-text-wrap' ),\n                    textWrapWidth = $textWrap.outerWidth( true ),\n                    adjust = $tooltip.data( 'adjust' ),\n                    adjustDir = $tooltip.data( 'adjustDir' ),\n                    boundaryRight = textWrapWidth - arrowWidth - arrowBoundary;\n\n                //= mousex is skewed, adjust.\n                adjust = parseInt( adjust, 10 );\n                adjust = isNaN( adjust ) ? 0 : Math.round( adjust );\n                if ( adjust ) {\n                    adjust = 'left' === adjustDir ? -adjust : adjust;\n                    mousex = mousex + adjust;\n\n                    //= Use textWidth for right boundary if adjustment exceeds.\n                    if ( boundaryRight - adjust > $hoverItemWrap.outerWidth( true ) ) {\n                        let $innerText = $textWrap.find( '.ct-tooltip-text' ),\n                            textWidth = $innerText.outerWidth( true );\n                        boundaryRight = textWidth - arrowWidth - arrowBoundary;\n                    }\n                }\n\n                if ( mousex <= arrowBoundary ) {\n                    //* Overflown left.\n                    $arrow.css( 'left', arrowBoundary + \"px\" );\n                } else if ( mousex >= boundaryRight ) {\n                    //* Overflown right.\n                    $arrow.css( 'left', boundaryRight + \"px\" );\n                } else {\n                    //= Somewhere in the middle.\n                    $arrow.css( 'left', mousex + \"px\" );\n                }\n            }\n        }\n        const mouseLeave = function( event ) {\n\n            //* @see touchMove\n            if ( inTouchBuffer )\n                return;\n\n            jQuery( event.target ).find( '.ct-tooltip' ).remove();\n            unsetEvents( event.target );\n        }\n        /**\n         * ^^^\n         * These two methods conflict eachother in EdgeHTML.\n         * Thusly, touch buffer.\n         * vvv\n         */\n        const touchRemove = function( event ) {\n\n            //* @see mouseLeave\n            setTouchBuffer();\n\n            let itemSelector = '.ct-tooltip-item',\n                balloonSelector = '.ct-tooltip';\n\n            let $target = jQuery( event.target ),\n                $keepBalloon;\n\n            if ( $target.hasClass( 'ct-tooltip-item' ) ) {\n                $keepBalloon = $target.find( balloonSelector );\n            }\n            if ( ! $keepBalloon ) {\n                let $children = $target.children( itemSelector );\n                if ( $children.length ) {\n                    $keepBalloon = $children.find( balloonSelector );\n                }\n            }\n\n            if ( $keepBalloon && $keepBalloon.length ) {\n                //= Remove all but this.\n                jQuery( balloonSelector ).not( $keepBalloon ).remove();\n            } else {\n                //= Remove all.\n                jQuery( balloonSelector ).remove();\n            }\n        }\n\n        /**\n         * Loads tooltips within wrapper.\n         * @function\n         */\n        const loadToolTip = function( event ) {\n\n            if ( inTouchBuffer )\n                return;\n\n            let isTouch = false;\n\n            switch ( event.type ) {\n                case 'mouseenter' :\n                    //= Most likely, thus placed first.\n                    break;\n\n                case 'pointerdown' :\n                case 'touchstart' :\n                    isTouch = true;\n                    break;\n\n                default :\n                    break;\n            }\n\n            if ( event.target.classList.contains( 'ct-tooltip-item' ) ) {\n                //= Removes previous items and sets buffer.\n                isTouch && touchRemove( event );\n\n                mouseEnter( event );\n                //= Initiate placement directly for Windows Touch or when overflown.\n                mouseMove( event );\n\n                setEvents( event.target );\n            } else {\n                //= Delegate or bubble, and go back to this method with the correct item.\n                let item = event.target.querySelector( '.ct-tooltip-item:hover' ),\n                    _event = new jQuery.Event( event.type );\n\n                _event.pageX = event.originalEvent && event.originalEvent.pageX || event.pageX;\n\n                if ( item ) {\n                    if ( tsfL10n.states.debug ) console.log( 'Tooltip event warning: delegation' );\n                    jQuery( item ).trigger( _event );\n                } else {\n                    if ( tsfL10n.states.debug ) console.log( 'Tooltip event warning: bubbling' );\n                    jQuery( event.target ).closest( '.ct-tooltip-wrap' ).find( '.ct-tooltip-item:hover' ).trigger( _event );\n                }\n            }\n\n            //* Stop further propagation.\n            event.stopPropagation();\n        }\n\n        /**\n         * Initializes tooltips.\n         * @function\n         */\n        const initTooltips = function() {\n            let $wrap = jQuery( '.ct-tooltip-wrap' );\n\n            $wrap.off( 'mouseenter pointerdown touchstart' );\n            $wrap.on( 'mouseenter pointerdown touchstart', '.ct-tooltip-item', loadToolTip );\n        }\n        initTooltips();\n        jQuery( window ).on( 'ct-reset-tooltips', initTooltips );\n\n        (function() {\n            let e = jQuery( '#wpcontent' );\n            that.addTooltipBoundary( e );\n        })();\n    }\n\n    // ################################################################\n    // ###################### PRIVATE FUNCTIONS #######################\n\n    /**\n     * Adds tooltip boundaries.\n     */\n    protected addTooltipBoundary( e ) {\n        jQuery( e ).addClass( 'ct-tooltip-boundary' );\n    }\n\n    /**\n     * Triggers tooltip reset.\n     */\n    protected _triggerTooltipReset() { // not used yet\n        jQuery( window ).trigger( 'ct-reset-tooltips' );\n    }\n\n    /**\n     * Triggers active tooltip update.\n     */\n    protected _triggerTooltipUpdate(item) { // not used yet\n        jQuery( item ).trigger( 'ct-tooltip-update' );\n    }\n}"],"sourceRoot":""}